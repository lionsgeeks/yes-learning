import{r as i,j as e,L as oe,$ as re}from"./app-C63RW_A8.js";import{c as ae,u as D,S as ne,a as ce,B as j}from"./button-C9oGkuB1.js";import{C as y,a as R,b as A,c as O,d as _,e as k}from"./card-D5-mwLWY.js";import{C as ie}from"./checkbox-fzd1Cfmq.js";import{I as T}from"./input-xWbc2EED.js";import{L as C}from"./label-BFMajRWC.js";import{d as le,c as de,a as P,P as I}from"./index-BnriUOpo.js";import{c as M,R as ue,u as pe,A as L,P as me,h as he,a as xe,b as fe,F as ve,D as je,d as ge,e as Ce}from"./sidebar-DVSB-QeP.js";import{P as H}from"./index-C2UCfdsy.js";import{S as Pe,a as we,b as Ne,c as be,d as N}from"./select-BKmNIRiG.js";import{T as Se,c as ye}from"./tabs-oE-yzVpY.js";import{T as Re}from"./textarea-DREkHze9.js";import{A as Ae}from"./app-layout-C86-vYy4.js";import{F as Oe}from"./file-text-BdAqrcqv.js";import{E as _e}from"./eye-DuRPuoDG.js";import{C as Ee}from"./clock-jgSRPwmR.js";import{U as Fe}from"./users-_p6o4v2s.js";import{f as ke}from"./format-ymR-pL-R.js";import"./index-DG3HcBNq.js";import"./check-T1rm7eTg.js";import"./index-BdQq_4o_.js";import"./chevron-down-jG5fkIAI.js";import"./book-open-CZEBvkvN.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],De=ae("Send",Te);var E="Popover",[$,Pt]=de(E,[M]),w=M(),[Ie,v]=$(E),U=t=>{const{__scopePopover:r,children:s,open:a,defaultOpen:n,onOpenChange:o,modal:c=!1}=t,l=w(r),u=i.useRef(null),[p,h]=i.useState(!1),[x=!1,m]=le({prop:a,defaultProp:n,onChange:o});return e.jsx(ue,{...l,children:e.jsx(Ie,{scope:r,contentId:pe(),triggerRef:u,open:x,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:p,onCustomAnchorAdd:i.useCallback(()=>h(!0),[]),onCustomAnchorRemove:i.useCallback(()=>h(!1),[]),modal:c,children:s})})};U.displayName=E;var V="PopoverAnchor",Me=i.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=v(V,s),o=w(s),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=n;return i.useEffect(()=>(c(),()=>l()),[c,l]),e.jsx(L,{...o,...a,ref:r})});Me.displayName=V;var z="PopoverTrigger",G=i.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=v(z,s),o=w(s),c=D(r,n.triggerRef),l=e.jsx(H.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":X(n.open),...a,ref:c,onClick:P(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:e.jsx(L,{asChild:!0,...o,children:l})});G.displayName=z;var F="PopoverPortal",[Le,He]=$(F,{forceMount:void 0}),B=t=>{const{__scopePopover:r,forceMount:s,children:a,container:n}=t,o=v(F,r);return e.jsx(Le,{scope:r,forceMount:s,children:e.jsx(I,{present:s||o.open,children:e.jsx(me,{asChild:!0,container:n,children:a})})})};B.displayName=F;var g="PopoverContent",W=i.forwardRef((t,r)=>{const s=He(g,t.__scopePopover),{forceMount:a=s.forceMount,...n}=t,o=v(g,t.__scopePopover);return e.jsx(I,{present:a||o.open,children:o.modal?e.jsx($e,{...n,ref:r}):e.jsx(Ue,{...n,ref:r})})});W.displayName=g;var $e=i.forwardRef((t,r)=>{const s=v(g,t.__scopePopover),a=i.useRef(null),n=D(r,a),o=i.useRef(!1);return i.useEffect(()=>{const c=a.current;if(c)return he(c)},[]),e.jsx(xe,{as:ne,allowPinchZoom:!0,children:e.jsx(K,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(t.onCloseAutoFocus,c=>{var l;c.preventDefault(),o.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:P(t.onPointerDownOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,p=l.button===2||u;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:P(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ue=i.forwardRef((t,r)=>{const s=v(g,t.__scopePopover),a=i.useRef(!1),n=i.useRef(!1);return e.jsx(K,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,l;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:o=>{var u,p;(u=t.onInteractOutside)==null||u.call(t,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=o.target;((p=s.triggerRef.current)==null?void 0:p.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),K=i.forwardRef((t,r)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:h,...x}=t,m=v(g,s),f=w(s);return fe(),e.jsx(ve,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(je,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:p,onDismiss:()=>m.onOpenChange(!1),children:e.jsx(ge,{"data-state":X(m.open),role:"dialog",id:m.contentId,...f,...x,ref:r,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),J="PopoverClose",Ve=i.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=v(J,s);return e.jsx(H.button,{type:"button",...a,ref:r,onClick:P(t.onClick,()=>n.onOpenChange(!1))})});Ve.displayName=J;var ze="PopoverArrow",Ge=i.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=w(s);return e.jsx(Ce,{...n,...a,ref:r})});Ge.displayName=ze;function X(t){return t?"open":"closed"}var Be=U,We=G,Ke=B,Je=W;function Xe({...t}){return e.jsx(Be,{"data-slot":"popover",...t})}function Ze({...t}){return e.jsx(We,{"data-slot":"popover-trigger",...t})}function qe({className:t,align:r="center",sideOffset:s=4,...a}){return e.jsx(Ke,{children:e.jsx(Je,{"data-slot":"popover-content",align:r,sideOffset:s,className:ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...a})})}const wt=()=>{const[t,r]=i.useState(""),[s,a]=i.useState(""),[n,o]=i.useState("blank"),[c,l]=i.useState("all"),[u,p]=i.useState([]),[h,x]=i.useState(void 0),[m,f]=i.useState(!1),[b,Z]=i.useState(!1),q=[{title:"Newsletter",href:"/admin/newsletter"}],Q=[{id:"course1",name:"Introduction to Web Development"},{id:"course2",name:"Advanced JavaScript"},{id:"course3",name:"UX/UI Design Fundamentals"},{id:"course4",name:"Data Science Basics"}],Y=d=>{p(S=>S.includes(d)?S.filter(se=>se!==d):[...S,d])},ee=async()=>{f(!0),await new Promise(d=>setTimeout(d,1500)),alert("Newsletter sent successfully!"),f(!1),r(""),a(""),o("blank"),l("all"),p([]),x(void 0)},te=async()=>{f(!0),await new Promise(d=>setTimeout(d,1500)),alert(`Newsletter scheduled for ${h?ke(h,"PPP"):"today"}!`),f(!1),r(""),a(""),o("blank"),l("all"),p([]),x(void 0)};return e.jsxs(Ae,{breadcrumbs:q,children:[e.jsx(oe,{title:"Newsletter"}),e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Newsletter"}),e.jsx("p",{className:"text-muted-foreground",children:"Create and send newsletters to your students"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(re,{href:"/admin/news_letter/history",children:e.jsxs(j,{variant:"outline",children:[e.jsx(Oe,{className:"mr-2 h-4 w-4"}),"View History"]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(Se,{defaultValue:"compose",className:"w-full",children:e.jsx(ye,{value:"compose",className:"space-y-4",children:e.jsxs(y,{children:[e.jsxs(R,{children:[e.jsx(A,{children:"Compose Newsletter"}),e.jsx(O,{children:"Create a new newsletter to send to your students"})]}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"subject",children:"Subject"}),e.jsx(T,{id:"subject",placeholder:"Enter newsletter subject",value:t,onChange:d=>r(d.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"content",children:"Content"}),e.jsx(Re,{id:"content",placeholder:"Write your newsletter content here...",className:"min-h-[200px]",value:s,onChange:d=>a(d.target.value)})]})]}),e.jsxs(k,{className:"flex justify-between",children:[e.jsxs(j,{variant:"outline",onClick:()=>Z(!b),children:[e.jsx(_e,{className:"mr-2 h-4 w-4"}),b?"Hide Preview":"Preview"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Xe,{children:[e.jsx(Ze,{asChild:!0,children:e.jsxs(j,{variant:"outline",children:[e.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Schedule"]})}),e.jsxs(qe,{className:"w-auto p-4",align:"end",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(T,{id:"date",type:"date",value:h,onChange:d=>{x(d.target.value)}})}),e.jsx(j,{className:"mt-4 w-full",onClick:te,disabled:m||!t||!s,children:m?"Scheduling...":"Confirm Schedule"})]})]}),e.jsxs(j,{onClick:ee,disabled:m||!t||!s,children:[m?"Sending...":"Send Now",e.jsx(De,{className:"ml-2 h-4 w-4"})]})]})]})]})})}),b&&e.jsxs(y,{className:"mt-6",children:[e.jsxs(R,{children:[e.jsx(A,{children:"Email Preview"}),e.jsx(O,{children:"Preview how your email will appear to recipients"})]}),e.jsx(_,{children:e.jsx("div",{className:"rounded-md border bg-white p-6",children:e.jsxs("div",{className:"mx-auto max-w-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-1 text-xl font-semibold",children:t||"No subject"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"From: LearnHub Admin <admin@learnhub.edu>"})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("div",{className:"whitespace-pre-line",children:s||"No content"})}),e.jsxs("div",{className:"text-muted-foreground mt-8 border-t pt-4 text-sm",children:[e.jsx("p",{children:"LearnHub Education Platform"}),e.jsx("p",{children:"© 2025 LearnHub. All rights reserved."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Unsubscribe"})," ","|",e.jsx("a",{href:"#",className:"text-primary ml-2 hover:underline",children:"View in browser"})]})]})]})})})]})]}),e.jsx("div",{children:e.jsxs(y,{children:[e.jsxs(R,{children:[e.jsx(A,{children:"Recipients"}),e.jsx(O,{children:"Select who will receive this newsletter"})]}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"recipients",children:"Recipient Group"}),e.jsxs(Pe,{value:c,onValueChange:l,children:[e.jsx(we,{children:e.jsx(Ne,{placeholder:"Select recipients"})}),e.jsxs(be,{children:[e.jsx(N,{value:"all",children:"All Students"}),e.jsx(N,{value:"active",children:"Active Students"}),e.jsx(N,{value:"inactive",children:"Inactive Students"}),e.jsx(N,{value:"courses",children:"Specific Courses"})]})]})]}),c==="courses"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Select Courses"}),e.jsx("div",{className:"max-h-[200px] space-y-2 overflow-y-auto rounded-md border p-4",children:Q.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{id:d.id,checked:u.includes(d.id),onCheckedChange:()=>Y(d.id)}),e.jsx(C,{htmlFor:d.id,className:"cursor-pointer",children:d.name})]},d.id))})]}),e.jsx("div",{className:"pt-2",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Estimated recipients:"}),e.jsx("span",{className:"font-medium",children:c==="all"?"1,245":c==="active"?"987":c==="inactive"?"258":u.length>0?`${u.length*45}`:"0"})]})})]}),e.jsx(k,{children:e.jsxs(j,{variant:"outline",className:"w-full",onClick:()=>alert("Recipients list exported!"),children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"}),"Export Recipients List"]})})]})})]})]})]})};export{wt as default};
