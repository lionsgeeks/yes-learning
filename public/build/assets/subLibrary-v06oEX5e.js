import{r as t,j as e,L as Z,$ as U}from"./app-C63RW_A8.js";import{B as J}from"./badge-D73r7Sqn.js";import{B as h}from"./button-C9oGkuB1.js";import{C as m,a as x,b as j,c as y,d as p,e as Q}from"./card-D5-mwLWY.js";import{I as i}from"./input-xWbc2EED.js";import{L as a}from"./label-BFMajRWC.js";import{S as d,a as n,b as c,c as o,d as r}from"./select-BKmNIRiG.js";import{S}from"./separator-KX6caguq.js";import{T as _,a as ee,b as k,c as q}from"./tabs-oE-yzVpY.js";import{A as se}from"./app-layout-C86-vYy4.js";import{S as re}from"./switch-b7eD8oVt.js";import{C as ae}from"./chevron-left-Dkv64HcE.js";import{P as le}from"./plus-BR9vaOBG.js";import{X as A}from"./sidebar-DVSB-QeP.js";import{F as M}from"./file-up-BXMd7vNc.js";import"./index-C2UCfdsy.js";import"./index-BdQq_4o_.js";import"./index-BnriUOpo.js";import"./index-DG3HcBNq.js";import"./chevron-down-jG5fkIAI.js";import"./check-T1rm7eTg.js";import"./book-open-CZEBvkvN.js";const Le=()=>{const[w,C]=t.useState(!1),[u,D]=t.useState([]),[b,L]=t.useState(""),[v,T]=t.useState([]),[Y,B]=t.useState(""),[F,P]=t.useState(""),[R,V]=t.useState(""),[g,O]=t.useState(!1),[z,E]=t.useState(""),X=[{title:"Create Sub Library",href:"/admin/create/library/1/subLibrary"}],I=()=>{b.trim()&&!u.includes(b.trim())&&(D([...u,b.trim()]),L(""))},$=s=>{D(u.filter(l=>l!==s))},H=s=>{if(s.target.files&&s.target.files.length>0){const l=Array.from(s.target.files).map(f=>({name:f.name,size:`${(f.size/1048576).toFixed(2)} MB`}));T([...v,...l])}},W=s=>{T(v.filter(l=>l.name!==s))},G=s=>{const l=s.target.value;B(l);const f=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,N=l.match(f);N&&N[2].length===11?P(N[2]):P("")},K=async s=>{s.preventDefault(),C(!0),setTimeout(()=>{C(!1),router.push("/admin/libraries")},1500)};return e.jsxs(se,{breadcrumbs:X,children:[e.jsx(Z,{title:"Create Library"}),e.jsxs("div",{className:"p-3 lg:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(U,{href:"/admin/libraries",className:"text-muted-foreground hover:text-foreground inline-flex items-center text-sm transition-colors",children:[e.jsx(ae,{className:"mr-1 h-4 w-4"}),"Back to Libraries"]}),e.jsx("h1",{className:"mt-2 text-2xl font-bold",children:"Create New Sub Library"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Add a new sub-library with YouTube video content"})]}),e.jsx("form",{onSubmit:K,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(j,{children:"Library Details"}),e.jsx(y,{children:"Provide information about this library"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"title",children:"Library Title"}),e.jsx(i,{id:"title",placeholder:"Enter a descriptive title",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"category",children:"Category"}),e.jsxs(d,{required:!0,children:[e.jsx(n,{id:"category",children:e.jsx(c,{placeholder:"Select category"})}),e.jsxs(o,{children:[e.jsx(r,{value:"frontend",children:"Frontend"}),e.jsx(r,{value:"backend",children:"Backend"}),e.jsx(r,{value:"design",children:"Design"}),e.jsx(r,{value:"database",children:"Database"}),e.jsx(r,{value:"devops",children:"DevOps"}),e.jsx(r,{value:"mobile",children:"Mobile Development"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"module",children:"Associated Module"}),e.jsxs(d,{value:R,onValueChange:V,required:!0,children:[e.jsx(n,{id:"module",children:e.jsx(c,{placeholder:"Select module"})}),e.jsxs(o,{children:[e.jsx(r,{value:"1",children:"Web Development Fundamentals"}),e.jsx(r,{value:"2",children:"Advanced CSS Techniques"}),e.jsx(r,{value:"3",children:"Node.js for Beginners"}),e.jsx(r,{value:"4",children:"Database Design Masterclass"}),e.jsx(r,{value:"5",children:"UI/UX Design Principles"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(a,{htmlFor:"isSubLibrary",children:"Is this a sub-library?"}),e.jsx(re,{id:"isSubLibrary",checked:g,onCheckedChange:O})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Sub-libraries are nested under a parent library for more detailed content"})]}),g&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"parentLibrary",children:"Parent Library"}),e.jsxs(d,{value:z,onValueChange:E,required:g,children:[e.jsx(n,{id:"parentLibrary",children:e.jsx(c,{placeholder:"Select parent library"})}),e.jsxs(o,{children:[e.jsx(r,{value:"1",children:"React Hooks Fundamentals"}),e.jsx(r,{value:"2",children:"Advanced CSS Grid Techniques"}),e.jsx(r,{value:"3",children:"Node.js Performance Optimization"}),e.jsx(r,{value:"4",children:"Database Design Principles"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",className:"min-h-[100px] w-full rounded-md border p-3",placeholder:"Describe what students will learn in this library"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"tags",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{id:"tags",value:b,onChange:s=>L(s.target.value),placeholder:"Add tags to help students find this content",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),I())}}),e.jsx(h,{type:"button",onClick:I,variant:"outline",children:e.jsx(le,{className:"h-4 w-4"})})]}),u.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.map(s=>e.jsxs(J,{variant:"secondary",className:"gap-1",children:[s,e.jsxs("button",{type:"button",onClick:()=>$(s),className:"hover:bg-secondary/20 ml-1 rounded-full",children:[e.jsx(A,{className:"h-3 w-3"}),e.jsxs("span",{className:"sr-only",children:["Remove ",s," tag"]})]})]},s))})]})]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(j,{children:"YouTube Video"}),e.jsx(y,{children:"Add a YouTube video for this library"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"youtubeUrl",children:"YouTube URL"}),e.jsx(i,{id:"youtubeUrl",placeholder:"https://www.youtube.com/watch?v=...",value:Y,onChange:G,required:!0}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Paste the full YouTube URL of the video you want to embed"})]}),F&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Preview"}),e.jsx("div",{className:"bg-muted aspect-video overflow-hidden rounded-md",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${F}`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"h-full w-full"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"videoStartTime",children:"Start Time (Optional)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{id:"videoStartMinutes",type:"number",min:"0",placeholder:"Minutes",className:"w-24"}),e.jsx(i,{id:"videoStartSeconds",type:"number",min:"0",max:"59",placeholder:"Seconds",className:"w-24"})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Specify a start time for the video (e.g., to skip intros)"})]})]})]}),e.jsxs(_,{defaultValue:"documents",children:[e.jsxs(ee,{children:[e.jsx(k,{value:"documents",children:"Documents"}),e.jsx(k,{value:"learning",children:"Learning Objectives"})]}),e.jsx(q,{value:"documents",className:"mt-4",children:e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(j,{children:"Upload Documents"}),e.jsx(y,{children:"Share resources related to this library"})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"rounded-lg border-2 border-dashed p-8 text-center",children:[e.jsx(M,{className:"text-muted-foreground mx-auto mb-4 h-8 w-8"}),e.jsx("h3",{className:"mb-2 font-medium",children:"Drag and drop your documents"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Supports PDF, DOCX, PPTX, and ZIP files up to 100MB each"}),e.jsxs(h,{variant:"outline",className:"relative",children:[e.jsx("input",{type:"file",className:"absolute inset-0 cursor-pointer opacity-0",accept:".pdf,.docx,.pptx,.zip",multiple:!0,onChange:H}),"Select Documents"]})]}),v.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"mb-3 font-medium",children:"Uploaded Documents"}),e.jsx("div",{className:"space-y-2",children:v.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{className:"text-muted-foreground mr-2 h-4 w-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsx("p",{className:"text-muted-foreground text-xs",children:s.size})]})]}),e.jsxs(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>W(s.name),children:[e.jsx(A,{className:"h-4 w-4"}),e.jsxs("span",{className:"sr-only",children:["Remove ",s.name]})]})]},l))})]})]})]})}),e.jsx(q,{value:"learning",className:"mt-4",children:e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(j,{children:"Learning Objectives"}),e.jsx(y,{children:"Define what students will learn"})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"objectives",children:"Learning Objectives"}),e.jsx("textarea",{id:"objectives",className:"min-h-[100px] w-full rounded-md border p-3",placeholder:"List the key learning objectives (one per line)"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"These will be displayed as bullet points on the library page"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"prerequisites",children:"Prerequisites"}),e.jsx("textarea",{id:"prerequisites",className:"min-h-[100px] w-full rounded-md border p-3",placeholder:"List any prerequisites for this content",onChange:s=>setNewComment(s.target.value)})]})]})})]})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(j,{children:"Publishing Options"})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"status",children:"Status"}),e.jsxs(d,{defaultValue:"draft",children:[e.jsx(n,{id:"status",children:e.jsx(c,{placeholder:"Select status"})}),e.jsxs(o,{children:[e.jsx(r,{value:"draft",children:"Draft"}),e.jsx(r,{value:"published",children:"Published"}),e.jsx(r,{value:"scheduled",children:"Scheduled"})]})]})]}),e.jsx(S,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"visibility",children:"Visibility"}),e.jsxs(d,{defaultValue:"public",children:[e.jsx(n,{id:"visibility",children:e.jsx(c,{placeholder:"Select visibility"})}),e.jsxs(o,{children:[e.jsx(r,{value:"public",children:"Public"}),e.jsx(r,{value:"private",children:"Private"}),e.jsx(r,{value:"unlisted",children:"Unlisted"})]})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Public libraries are visible to all students"})]}),e.jsx(S,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"instructor",children:"Instructor"}),e.jsxs(d,{defaultValue:"current",children:[e.jsx(n,{id:"instructor",children:e.jsx(c,{placeholder:"Select instructor"})}),e.jsxs(o,{children:[e.jsx(r,{value:"current",children:"Sarah Miller (You)"}),e.jsx(r,{value:"michael",children:"Michael Chen"}),e.jsx(r,{value:"david",children:"David Wilson"}),e.jsx(r,{value:"emma",children:"Emma Rodriguez"})]})]})]}),e.jsx(S,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"publish-date",children:"Publish Date"}),e.jsx(i,{id:"publish-date",type:"date"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Leave blank to publish immediately"})]})]}),e.jsxs(Q,{className:"flex flex-col gap-2",children:[e.jsx(h,{className:"w-full",type:"submit",disabled:w,children:w?"Creating...":"Create Library"}),e.jsx(h,{variant:"outline",className:"w-full",type:"button",asChild:!0,children:e.jsx(U,{href:"/admin/libraries",children:"Cancel"})})]})]})})]})})]})]})};export{Le as default};
