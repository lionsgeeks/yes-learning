import{r as n,j as e,L as C,$ as N}from"./app-C63RW_A8.js";import{D as v,a as b,b as S,c as w,A as y}from"./app-layout-C86-vYy4.js";import{c as D,B as p}from"./button-C9oGkuB1.js";import{I as k}from"./input-xWbc2EED.js";import{S as M,a as T,b as O,c as W,d as m}from"./select-BKmNIRiG.js";import{D as I,C as x}from"./delete-workshop-dialog-Cn78ZH-u.js";import{C as L,a as E,b as V,c as A,d as H,e as B}from"./card-D5-mwLWY.js";import{B as P}from"./badge-D73r7Sqn.js";import{E as $}from"./alert-dialog-DU3BoMIj.js";import{C as F}from"./calendar-Chc8KH6H.js";import{U as _}from"./users-_p6o4v2s.js";import{T as q}from"./triangle-alert-98MW-rwc.js";import{T as J}from"./TransText-DaOO7E6g.js";import{P as U}from"./plus-BR9vaOBG.js";import"./sidebar-DVSB-QeP.js";import"./index-BnriUOpo.js";import"./index-C2UCfdsy.js";import"./index-DG3HcBNq.js";import"./book-open-CZEBvkvN.js";import"./index-BdQq_4o_.js";import"./chevron-down-jG5fkIAI.js";import"./check-T1rm7eTg.js";import"./dialog-BvJSafTo.js";import"./label-BFMajRWC.js";import"./tabs-oE-yzVpY.js";import"./loader-circle-CZB20JDQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],R=D("Trophy",z);function Z({workshop:a,courses:r}){const[c,l]=n.useState(!1),[i,d]=n.useState(!1),o=t=>{t.target.closest("[data-dropdown-trigger]")&&(t.preventDefault(),t.stopPropagation())};return e.jsxs(L,{className:"overflow-hidden pb-0 transition-all hover:shadow-md h-full flex flex-col",children:[e.jsx(E,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(V,{className:"text-lg",children:JSON.parse(a.name).en})}),e.jsx(A,{className:"line-clamp-1 mt-1",children:JSON.parse(a.description).en})]}),e.jsxs(v,{children:[e.jsx(b,{asChild:!0,"data-dropdown-trigger":!0,onClick:o,children:e.jsxs(p,{variant:"ghost",size:"icon",className:"-mr-2 h-8 w-8",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsx(S,{align:"end",children:e.jsx(w,{className:"text-destructive",onClick:t=>{t.preventDefault(),t.stopPropagation(),l(!0)},children:"Delete Workshop"})})]})]})}),e.jsx(H,{className:"pb-3 flex-grow",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:e.jsx(P,{variant:"outline",className:"mr-2",children:a.course.name.en})}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(F,{className:"mr-1 h-4 w-4"}),e.jsx("span",{children:new Date(a.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(_,{className:"mr-1 h-4 w-4"}),e.jsxs("span",{children:[a.enrolledStudents,"/",a.maxCapacity," Students"]})]})]})}),e.jsx(B,{className:`border-t px-6 py-3 ${a.isComplete?"bg-muted/50":"bg-amber-50"}`,children:e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.subWorkshops," Sub-Workshops"]}),a.isComplete?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Complete"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Incomplete"})]})]})}),e.jsx(I,{open:c,onOpenChange:l,workshopTitle:a.name,workshopId:a.id}),e.jsx(x,{open:i,onOpenChange:d,workshop:a,courses:r})]})}const G=[{title:"Workshops",href:"/admin/workshop"}],be=({workshops:a,courses:r})=>{const[c,l]=n.useState(!1),[i,d]=n.useState(""),[o,t]=n.useState("all"),h=s=>{d(s.target.value.toLowerCase())},u=s=>{t(s)},f=a.filter(s=>{const j=s.name.toLowerCase().includes(i),g=o==="all"||s.course.id===o;return j&&g});return e.jsxs(y,{breadcrumbs:G,children:[e.jsx(C,{title:"Workshops"}),e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Workshops"}),e.jsx("p",{className:"text-muted-foreground",children:"Create and manage workshops for your courses"})]}),e.jsxs(p,{onClick:()=>l(!0),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Create Workshop"]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{placeholder:"Search workshops...",className:"max-w-sm",value:i,onChange:h}),e.jsxs(M,{defaultValue:"all",onValueChange:u,children:[e.jsx(T,{className:"w-[180px]",children:e.jsx(O,{placeholder:"Filter by course"})}),e.jsxs(W,{children:[e.jsx(m,{value:"all",children:"All Courses"}),r.map(s=>e.jsx(m,{value:s.id,children:e.jsx(J,{en:s.name.en,fr:s.name.fr,ar:s.name.ar})},s.id))]})]})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:f.map(s=>e.jsx(N,{href:`/admin/workshops/${s.id}`,children:e.jsx(Z,{workshop:s,courses:r})},s.id))})]}),e.jsx(x,{open:c,onOpenChange:l,courses:r})]})]})};export{be as default};
