import{r as h,j as e,L as Le,$ as R}from"./app-C63RW_A8.js";import{E as A,A as ye,a as Me,b as ke,c as Ae,d as Ie,e as Pe,f as Fe,g as Te}from"./alert-dialog-DU3BoMIj.js";import{B as n}from"./badge-D73r7Sqn.js";import{c as ge,B as d}from"./button-C9oGkuB1.js";import{C as W,a as ee,b as se,d as O}from"./card-D5-mwLWY.js";import{D as ae,a as ie,b as te,c as le,d as Ve,e as re}from"./dialog-BvJSafTo.js";import{A as Ee,D as I,a as P,b as F,f as T,c,g as V}from"./app-layout-C86-vYy4.js";import{I as N}from"./input-xWbc2EED.js";import{L as j}from"./label-BFMajRWC.js";import{S as Z,a as $,b as G,c as X,d as x}from"./select-BKmNIRiG.js";import{T as ne,a as de,b as p,c as o,d as ce,e as l}from"./table-DgaGv9ni.js";import{T as He,a as ze,b as oe,c as he}from"./tabs-oE-yzVpY.js";import{L as xe}from"./layers-BcgMy64V.js";import{S as Be}from"./search-BKyGJwfN.js";import{F as Ue}from"./filter-DE4e80cM.js";import{C as me}from"./chevron-down-jG5fkIAI.js";import{C as ue}from"./sidebar-DVSB-QeP.js";import{I as w}from"./image-DtSp-YCz.js";import{E as b}from"./eye-DuRPuoDG.js";import{S as E}from"./square-pen-O9gGr2H6.js";import{T as H}from"./trash-2-DKOJ9GyN.js";import{C as z}from"./clock-jgSRPwmR.js";import{F as je}from"./file-up-BXMd7vNc.js";import"./index-BnriUOpo.js";import"./index-C2UCfdsy.js";import"./index-DG3HcBNq.js";import"./book-open-CZEBvkvN.js";import"./index-BdQq_4o_.js";import"./check-T1rm7eTg.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],pe=ge("FolderPlus",Re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Oe=ge("Youtube",We),Ze=[{id:1,title:"Frontend Development",description:"Resources for learning modern frontend technologies",category:"Development",status:"Published",views:1245,thumbnail:"/placeholder.svg?height=60&width=120&text=Frontend",isMainLibrary:!0,subLibraries:[{id:101,title:"Introduction to React Hooks",coach:"Sarah Miller",date:"March 15, 2025",duration:"1h 20min",status:"Published",views:245,thumbnail:"/placeholder.svg?height=60&width=120&text=React+Hooks",youtubeId:"dH6i3GurZW8"},{id:102,title:"Advanced CSS Layouts",coach:"Michael Chen",date:"March 12, 2025",duration:"55min",status:"Published",views:189,thumbnail:"/placeholder.svg?height=60&width=120&text=CSS+Layouts",youtubeId:"dH6i3GurZW8"},{id:103,title:"JavaScript Performance Optimization",coach:"Sarah Miller",date:"March 3, 2025",duration:"1h 15min",status:"Published",views:203,thumbnail:"/placeholder.svg?height=60&width=120&text=JS+Performance",youtubeId:"dH6i3GurZW8"}]},{id:2,title:"Backend Development",description:"Server-side programming and architecture",category:"Development",status:"Published",views:980,thumbnail:"/placeholder.svg?height=60&width=120&text=Backend",isMainLibrary:!0,subLibraries:[{id:201,title:"Backend Development with Node.js",coach:"David Wilson",date:"March 10, 2025",duration:"1h 45min",status:"Published",views:312,thumbnail:"/placeholder.svg?height=60&width=120&text=Node.js",youtubeId:"dH6i3GurZW8"},{id:202,title:"API Development Best Practices",coach:"David Wilson",date:"February 25, 2025",duration:"1h 40min",status:"Published",views:195,thumbnail:"/placeholder.svg?height=60&width=120&text=API+Development",youtubeId:"dH6i3GurZW8"}]},{id:3,title:"Database & Storage",description:"Database design and data management",category:"Development",status:"Published",views:756,thumbnail:"/placeholder.svg?height=60&width=120&text=Database",isMainLibrary:!0,subLibraries:[{id:301,title:"Database Design Principles",coach:"Emma Rodriguez",date:"March 8, 2025",duration:"1h 10min",status:"Draft",views:0,thumbnail:"/placeholder.svg?height=60&width=120&text=Database+Design",youtubeId:"dH6i3GurZW8"}]},{id:4,title:"UI/UX Design",description:"User interface and experience design principles",category:"Design",status:"Published",views:890,thumbnail:"/placeholder.svg?height=60&width=120&text=UI/UX",isMainLibrary:!0,subLibraries:[{id:401,title:"UI/UX Design Fundamentals",coach:"Alex Johnson",date:"March 5, 2025",duration:"1h 30min",status:"Published",views:267,thumbnail:"/placeholder.svg?height=60&width=120&text=UI/UX+Design",youtubeId:"dH6i3GurZW8"},{id:402,title:"Responsive Web Design",coach:"Michael Chen",date:"February 28, 2025",duration:"1h 05min",status:"Scheduled",views:0,thumbnail:"/placeholder.svg?height=60&width=120&text=Responsive+Design",youtubeId:"dH6i3GurZW8"}]}],$e=[{title:"Libraries",href:"/admin/libraries"}];function ws(){const[v,D]=h.useState(Ze),[f,ve]=h.useState(""),[fe,B]=h.useState(!1),[u,q]=h.useState(null),[Ne,S]=h.useState(!1),[i,m]=h.useState(null),[Q,Y]=h.useState(!1),[g,_]=h.useState([]),[we,L]=h.useState(!1),[t,be]=h.useState(null),[U,Ce]=h.useState("all"),y=v.filter(s=>{const a=s.title.toLowerCase().includes(f.toLowerCase())||s.category.toLowerCase().includes(f.toLowerCase())||s.description.toLowerCase().includes(f.toLowerCase())||s.subLibraries.some(r=>r.title.toLowerCase().includes(f.toLowerCase())||r.coach.toLowerCase().includes(f.toLowerCase()));return U==="all"?a:a&&s.category.toLowerCase()===U.toLowerCase()}),J=s=>{g.includes(s)?_(g.filter(a=>a!==s)):_([...g,s])},M=(s,a,r)=>{q({id:s,isMainLibrary:a,parentId:r}),B(!0)},De=()=>{u&&(u.isMainLibrary?D(v.filter(s=>s.id!==u.id)):u.parentId&&D(v.map(s=>s.id===u.parentId?{...s,subLibraries:s.subLibraries.filter(a=>a.id!==u.id)}:s)),B(!1),q(null))},C=(s,a,r)=>{m({...s,isMainLibrary:a,parentId:r}),S(!0)},Se=()=>{Y(!0),setTimeout(()=>{i!=null&&i.isMainLibrary?D(v.map(s=>s.id===i.id?{...s,title:i.title,description:i.description,category:i.category,status:i.status}:s)):i!=null&&i.parentId&&D(v.map(s=>s.id===i.parentId?{...s,subLibraries:s.subLibraries.map(a=>a.id===i.id?{...a,title:i.title,coach:i.coach,duration:i.duration,status:i.status}:a)}:s)),S(!1),m(null),Y(!1)},500)},k=(s,a)=>{be({...s,isMainLibrary:a}),L(!0)},K=()=>{const s=v.map(a=>a.category);return[...new Set(s)]};return e.jsxs(Ee,{breadcrumbs:$e,children:[e.jsx(Le,{title:"Libraries"}),e.jsxs("div",{className:"p-3 lg:p-6",children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Library Management"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Organize and manage your educational content library"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(d,{asChild:!0,children:e.jsxs(R,{href:"/admin/create/library",children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Create Main Library"]})})})]}),e.jsxs(He,{defaultValue:"all",value:U,onValueChange:Ce,children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs(ze,{children:[e.jsx(oe,{value:"all",children:"All Categories"}),K().map(s=>e.jsx(oe,{value:s.toLowerCase(),children:s},s))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"text-muted-foreground absolute top-2.5 left-2.5 h-4 w-4"}),e.jsx(N,{type:"search",placeholder:"Search libraries...",className:"w-full pl-9 sm:w-[260px]",value:f,onChange:s=>ve(s.target.value)})]}),e.jsxs(d,{variant:"outline",size:"icon",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Filter"})]})]})]}),e.jsx(he,{value:"all",className:"mt-0",children:e.jsxs(W,{children:[e.jsx(ee,{className:"pb-3",children:e.jsx(se,{children:"Libraries"})}),e.jsx(O,{children:e.jsxs(ne,{children:[e.jsx(de,{children:e.jsxs(p,{children:[e.jsx(o,{className:"w-12"}),e.jsx(o,{children:"Library"}),e.jsx(o,{children:"Category"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Content"}),e.jsx(o,{children:"Views"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(ce,{children:y.length===0?e.jsx(p,{children:e.jsx(l,{colSpan:7,className:"text-muted-foreground py-8 text-center",children:"No libraries found. Try adjusting your search."})}):y.map(s=>e.jsxs(e.Fragment,{children:[e.jsxs(p,{className:"bg-muted/30",children:[e.jsx(l,{children:e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>J(s.id),className:"h-8 w-8",children:g.includes(s.id)?e.jsx(me,{className:"h-4 w-4"}):e.jsx(ue,{className:"h-4 w-4"})})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative h-12 w-12 overflow-hidden rounded-md border",children:e.jsx(w,{src:s.thumbnail||"/placeholder.svg",alt:s.title,fill:!0,className:"object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:s.description})]})]})}),e.jsx(l,{children:e.jsx(n,{variant:"outline",children:s.category})}),e.jsx(l,{children:e.jsx(n,{variant:s.status==="Published"?"default":s.status==="Draft"?"outline":"secondary",children:s.status})}),e.jsx(l,{children:e.jsxs(n,{variant:"secondary",children:[s.subLibraries.length," items"]})}),e.jsx(l,{children:s.views}),e.jsx(l,{className:"text-right",children:e.jsxs(I,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"icon",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Actions"})]})}),e.jsxs(F,{align:"end",children:[e.jsx(T,{children:"Actions"}),e.jsxs(c,{onClick:()=>k(s,!0),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"View Details"]}),e.jsxs(c,{onClick:()=>C(s,!0),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(c,{asChild:!0,children:e.jsxs(R,{href:`/admin/create/library/${s.id}/subLibrary`,children:[e.jsx(pe,{className:"mr-2 h-4 w-4"}),"Add Sub-Library"]})}),e.jsx(V,{}),e.jsxs(c,{className:"text-destructive",onClick:()=>M(s.id,!0),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},s.id),g.includes(s.id)&&s.subLibraries.map(a=>e.jsxs(p,{className:"bg-background",children:[e.jsx(l,{}),e.jsx(l,{children:e.jsxs("div",{className:"border-primary/20 flex items-center gap-3 border-l-2 pl-6",children:[e.jsx("div",{className:"relative h-12 w-12 overflow-hidden rounded-md border",children:e.jsx(w,{src:a.thumbnail||"/placeholder.svg",alt:a.title,fill:!0,className:"object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.title}),e.jsxs("div",{className:"text-muted-foreground mt-1 flex items-center text-xs",children:[e.jsx(z,{className:"mr-1 h-3 w-3"}),a.duration,e.jsx("span",{className:"mx-1",children:"•"}),a.coach]})]})]})}),e.jsx(l,{children:e.jsxs(n,{variant:"outline",className:"bg-primary/5",children:[e.jsx(Oe,{className:"mr-1 h-3 w-3"}),"Video"]})}),e.jsx(l,{children:e.jsx(n,{variant:a.status==="Published"?"default":a.status==="Draft"?"outline":"secondary",children:a.status})}),e.jsx(l,{children:e.jsx(n,{variant:"outline",className:"bg-primary/5",children:a.date})}),e.jsx(l,{children:a.views}),e.jsx(l,{className:"text-right",children:e.jsxs(I,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"icon",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Actions"})]})}),e.jsxs(F,{align:"end",children:[e.jsx(T,{children:"Actions"}),e.jsxs(c,{onClick:()=>k(a,!1),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"View Content"]}),e.jsxs(c,{onClick:()=>C(a,!1,s.id),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(V,{}),e.jsxs(c,{className:"text-destructive",onClick:()=>M(a.id,!1,s.id),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},`sub-${a.id}`))]}))})]})})]})}),K().map(s=>e.jsx(he,{value:s.toLowerCase(),className:"mt-0",children:e.jsxs(W,{children:[e.jsx(ee,{className:"pb-3",children:e.jsxs(se,{children:[s," Libraries"]})}),e.jsx(O,{children:e.jsxs(ne,{children:[e.jsx(de,{children:e.jsxs(p,{children:[e.jsx(o,{className:"w-12"}),e.jsx(o,{children:"Library"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Content"}),e.jsx(o,{children:"Views"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(ce,{children:y.length===0?e.jsx(p,{children:e.jsx(l,{colSpan:6,className:"text-muted-foreground py-8 text-center",children:"No libraries found in this category."})}):y.map(a=>e.jsxs(e.Fragment,{children:[e.jsxs(p,{className:"bg-muted/30",children:[e.jsx(l,{children:e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>J(a.id),className:"h-8 w-8",children:g.includes(a.id)?e.jsx(me,{className:"h-4 w-4"}):e.jsx(ue,{className:"h-4 w-4"})})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative h-12 w-12 overflow-hidden rounded-md border",children:e.jsx(w,{src:a.thumbnail||"/placeholder.svg",alt:a.title,fill:!0,className:"object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.title}),e.jsx("p",{className:"text-muted-foreground line-clamp-1 text-xs",children:a.description})]})]})}),e.jsx(l,{children:e.jsx(n,{variant:a.status==="Published"?"default":a.status==="Draft"?"outline":"secondary",children:a.status})}),e.jsx(l,{children:e.jsxs(n,{variant:"secondary",children:[a.subLibraries.length," items"]})}),e.jsx(l,{children:a.views}),e.jsx(l,{className:"text-right",children:e.jsxs(I,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"icon",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Actions"})]})}),e.jsxs(F,{align:"end",children:[e.jsx(T,{children:"Actions"}),e.jsxs(c,{onClick:()=>k(a,!0),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"View Details"]}),e.jsxs(c,{onClick:()=>C(a,!0),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(c,{asChild:!0,children:e.jsxs(R,{href:`/admin/libraries/sub-library/create?parentId=${a.id}&parentTitle=${encodeURIComponent(a.title)}`,children:[e.jsx(pe,{className:"mr-2 h-4 w-4"}),"Add Sub-Library"]})}),e.jsx(V,{}),e.jsxs(c,{className:"text-destructive",onClick:()=>M(a.id,!0),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},a.id),g.includes(a.id)&&a.subLibraries.map(r=>e.jsxs(p,{className:"bg-background",children:[e.jsx(l,{}),e.jsx(l,{children:e.jsxs("div",{className:"border-primary/20 flex items-center gap-3 border-l-2 pl-6",children:[e.jsx("div",{className:"relative h-12 w-12 overflow-hidden rounded-md border",children:e.jsx(w,{src:r.thumbnail||"/placeholder.svg",alt:r.title,fill:!0,className:"object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.title}),e.jsxs("div",{className:"text-muted-foreground mt-1 flex items-center text-xs",children:[e.jsx(z,{className:"mr-1 h-3 w-3"}),r.duration,e.jsx("span",{className:"mx-1",children:"•"}),r.coach]})]})]})}),e.jsx(l,{children:e.jsx(n,{variant:r.status==="Published"?"default":r.status==="Draft"?"outline":"secondary",children:r.status})}),e.jsx(l,{children:e.jsx(n,{variant:"outline",className:"bg-primary/5",children:r.date})}),e.jsx(l,{children:r.views}),e.jsx(l,{className:"text-right",children:e.jsxs(I,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"icon",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Actions"})]})}),e.jsxs(F,{align:"end",children:[e.jsx(T,{children:"Actions"}),e.jsxs(c,{onClick:()=>k(r,!1),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"View Content"]}),e.jsxs(c,{onClick:()=>C(r,!1,a.id),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(V,{}),e.jsxs(c,{className:"text-destructive",onClick:()=>M(r.id,!1,a.id),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},`sub-${r.id}`))]}))})]})})]})},s))]}),e.jsx(ye,{open:fe,onOpenChange:B,children:e.jsxs(Me,{children:[e.jsxs(ke,{children:[e.jsx(Ae,{children:"Are you sure?"}),e.jsx(Ie,{children:u!=null&&u.isMainLibrary?"This will permanently delete this library and all its sub-libraries. This action cannot be undone.":"This will permanently delete this sub-library. This action cannot be undone."})]}),e.jsxs(Pe,{children:[e.jsx(Fe,{children:"Cancel"}),e.jsx(Te,{onClick:De,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),e.jsx(ae,{open:Ne,onOpenChange:S,children:e.jsxs(ie,{className:"sm:max-w-[525px]",children:[e.jsxs(te,{children:[e.jsx(le,{children:i!=null&&i.isMainLibrary?"Edit Main Library":"Edit Sub-Library"}),e.jsx(Ve,{children:"Make changes to the library details below."})]}),i&&e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"title",children:"Library Title"}),e.jsx(N,{id:"title",value:i.title,onChange:s=>m({...i,title:s.target.value})})]}),i.isMainLibrary?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"description",children:"Description"}),e.jsx(N,{id:"description",value:i.description,onChange:s=>m({...i,description:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"category",children:"Category"}),e.jsxs(Z,{value:i.category,onValueChange:s=>m({...i,category:s}),children:[e.jsx($,{id:"category",children:e.jsx(G,{placeholder:"Select category"})}),e.jsxs(X,{children:[e.jsx(x,{value:"Development",children:"Development"}),e.jsx(x,{value:"Design",children:"Design"}),e.jsx(x,{value:"Business",children:"Business"}),e.jsx(x,{value:"Marketing",children:"Marketing"}),e.jsx(x,{value:"Data Science",children:"Data Science"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"status",children:"Status"}),e.jsxs(Z,{value:i.status,onValueChange:s=>m({...i,status:s}),children:[e.jsx($,{id:"status",children:e.jsx(G,{placeholder:"Select status"})}),e.jsxs(X,{children:[e.jsx(x,{value:"Published",children:"Published"}),e.jsx(x,{value:"Draft",children:"Draft"}),e.jsx(x,{value:"Archived",children:"Archived"})]})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"coach",children:"Coach"}),e.jsx(N,{id:"coach",value:i.coach,onChange:s=>m({...i,coach:s.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"duration",children:"Duration"}),e.jsx(N,{id:"duration",value:i.duration,onChange:s=>m({...i,duration:s.target.value})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"status",children:"Status"}),e.jsxs(Z,{value:i.status,onValueChange:s=>m({...i,status:s}),children:[e.jsx($,{id:"status",children:e.jsx(G,{placeholder:"Select status"})}),e.jsxs(X,{children:[e.jsx(x,{value:"Published",children:"Published"}),e.jsx(x,{value:"Draft",children:"Draft"}),e.jsx(x,{value:"Scheduled",children:"Scheduled"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"youtubeId",children:"YouTube Video ID"}),e.jsx(N,{id:"youtubeId",value:i.youtubeId,onChange:s=>m({...i,youtubeId:s.target.value}),placeholder:"e.g. dQw4w9WgXcQ"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"The ID is the part after v= in a YouTube URL"})]})]})]}),e.jsxs(re,{children:[e.jsx(d,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e.jsx(d,{onClick:Se,disabled:Q,children:Q?"Saving...":"Save changes"})]})]})}),e.jsx(ae,{open:we,onOpenChange:L,children:e.jsx(ie,{className:"max-h-[80vh] overflow-y-auto sm:max-w-[700px]",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(te,{children:e.jsx(le,{children:t.isMainLibrary?"Library Details":"Sub-Library Content"})}),e.jsx("div",{className:"mt-4 space-y-6",children:t.isMainLibrary?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[e.jsx("div",{className:"relative aspect-video w-full overflow-hidden rounded-md border sm:w-1/3",children:e.jsx(w,{src:t.thumbnail||"/placeholder.svg",alt:t.title,fill:!0,className:"object-cover"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("h3",{className:"text-xl font-semibold",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"outline",children:t.category}),e.jsx(n,{variant:t.status==="Published"?"default":t.status==="Draft"?"outline":"secondary",children:t.status})]}),e.jsx("p",{className:"text-muted-foreground",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xe,{className:"text-muted-foreground mr-1 h-4 w-4"}),e.jsxs("span",{children:[t.subLibraries.length," sub-libraries"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"text-muted-foreground mr-1 h-4 w-4"}),e.jsxs("span",{children:[t.views," total views"]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Sub-Libraries"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:t.subLibraries.map(s=>e.jsx(W,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"relative h-20 w-20",children:e.jsx(w,{src:s.thumbnail||"/placeholder.svg",alt:s.title,fill:!0,className:"object-cover"})}),e.jsxs(O,{className:"flex-1 p-3",children:[e.jsx("h5",{className:"line-clamp-1 font-medium",children:s.title}),e.jsxs("div",{className:"text-muted-foreground mt-1 flex items-center text-xs",children:[e.jsx(z,{className:"mr-1 h-3 w-3"}),s.duration,e.jsx("span",{className:"mx-1",children:"•"}),s.coach]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(n,{variant:s.status==="Published"?"default":s.status==="Draft"?"outline":"secondary",className:"text-xs",children:s.status}),e.jsxs("span",{className:"text-muted-foreground text-xs",children:[s.views," views"]})]})]})]})},s.id))})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-muted aspect-video w-full overflow-hidden rounded-md",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${t.youtubeId}`,title:t.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"h-full w-full"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xl font-semibold",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:t.status==="Published"?"default":t.status==="Draft"?"outline":"secondary",children:t.status}),e.jsxs(n,{variant:"outline",className:"bg-primary/5",children:[e.jsx(z,{className:"mr-1 h-3 w-3"}),t.duration]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Coach:"}),e.jsx("span",{className:"font-medium",children:t.coach}),e.jsx("span",{className:"text-muted-foreground mx-1",children:"•"}),e.jsx("span",{className:"text-muted-foreground",children:t.date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(b,{className:"text-muted-foreground h-4 w-4"}),e.jsxs("span",{children:[t.views," views"]})]})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4",children:[e.jsx("h4",{className:"font-medium",children:"Resources"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-md border p-3 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary/10 mr-3 flex h-10 w-10 items-center justify-center rounded",children:e.jsx(je,{className:"text-primary h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Presentation Slides"}),e.jsx("div",{className:"text-muted-foreground text-xs",children:"PDF • 2.4 MB"})]})]}),e.jsx(d,{variant:"outline",size:"sm",children:"Download"})]}),e.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-md border p-3 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-primary/10 mr-3 flex h-10 w-10 items-center justify-center rounded",children:e.jsx(je,{className:"text-primary h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Code Examples"}),e.jsx("div",{className:"text-muted-foreground text-xs",children:"ZIP • 1.8 MB"})]})]}),e.jsx(d,{variant:"outline",size:"sm",children:"Download"})]})]})]})]})})}),e.jsxs(re,{children:[e.jsx(d,{variant:"outline",onClick:()=>L(!1),children:"Close"}),e.jsx(d,{onClick:()=>{L(!1),C(t,t.isMainLibrary,t.isMainLibrary?void 0:t.parentId)},children:"Edit"})]})]})})})]})]})}export{ws as default};
