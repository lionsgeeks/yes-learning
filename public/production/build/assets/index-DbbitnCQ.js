import{r as l,j as e,L as b,$ as C}from"./app-D1uP6xAc.js";import{B as S}from"./badge-BHte1J5J.js";import{B as i}from"./button-D0NtJzOZ.js";import{C as u,a as j,b as p,c as k,d as g}from"./card-DLWXjJMa.js";import{D as T,a as L}from"./dialog-yxwbQcQh.js";import{I as D}from"./input-Bv6Tt3c0.js";import{T as H,a as P,b as o,c as a,d as B,e as t}from"./table-B51CrWiK.js";import{A as M}from"./app-layout-CES0yGId.js";import{C as f}from"./chevron-left-uJGV0o8b.js";import{S as W}from"./search-BXB8niCR.js";import{C as z}from"./calendar-BirblZxl.js";import{f as w}from"./format-ymR-pL-R.js";import{E as A}from"./eye-lUoQD-od.js";import{C as E}from"./sidebar-CJIwj5Jk.js";import"./index-CgCsWYJI.js";import"./index-CyAHaNaG.js";import"./index-Dmu8fun0.js";import"./book-open-CmKOxast.js";const re=({newsletters:c})=>{const[d,N]=l.useState(""),[m,h]=l.useState(1),[s,x]=l.useState(null),v=[{title:"Newsletter History",href:"/admin/news_letter/history"}];console.log(history);const n=c.filter(r=>r.subject.en.toLowerCase().includes(d.toLowerCase())),y=r=>{x(r)};return e.jsxs(M,{breadcrumbs:v,children:[e.jsx(b,{title:"Newsletter History"}),e.jsxs("div",{className:"container mx-auto p-3 lg:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(C,{href:"/admin/newsletter",className:"text-muted-foreground hover:text-foreground inline-flex items-center text-sm transition-colors",children:[e.jsx(f,{className:"mr-1 h-4 w-4"}),"Back to Newsletter"]}),e.jsx("h1",{className:"mt-2 text-2xl font-bold",children:"Newsletter History"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage your sent and scheduled newsletters"})]}),e.jsxs(u,{className:"w-[93vw] overflow-x-scroll lg:w-full lg:overflow-x-auto",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{children:"All Newsletters"}),e.jsx(k,{children:"View performance metrics and manage past newsletters"})]}),e.jsxs("div",{className:"relative w-64",children:[e.jsx(W,{className:"text-muted-foreground absolute top-2.5 left-2 h-4 w-4"}),e.jsx(D,{placeholder:"Search newsletters...",className:"pl-8",value:d,onChange:r=>N(r.target.value)})]})]})}),e.jsxs(g,{children:[e.jsxs(H,{className:"",children:[e.jsx(P,{children:e.jsxs(o,{children:[e.jsx(a,{children:"Subject"}),e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Status"}),e.jsx(a,{className:"text-right",children:"Actions"})]})}),e.jsxs(B,{children:[n.map(r=>e.jsxs(o,{children:[e.jsx(t,{className:"font-medium",children:r.subject.en}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"text-muted-foreground mr-2 h-4 w-4"}),e.jsx("p",{children:w(r.created_at,"PPP")})]})}),e.jsx(t,{children:e.jsx(S,{children:"sent"})}),e.jsx(t,{className:"text-right",children:e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>y(r),children:e.jsx(A,{className:"h-4 w-4"})})})})]},r.id)),n.length===0&&e.jsx(o,{children:e.jsx(t,{colSpan:7,className:"text-muted-foreground py-8 text-center",children:"No newsletters found matching your search"})})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-muted-foreground text-sm",children:["Showing ",n.length," of ",c.length," newsletters"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"outline",size:"icon",onClick:()=>h(r=>Math.max(r-1,1)),disabled:m===1,children:e.jsx(f,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",m," of 1"]}),e.jsx(i,{variant:"outline",size:"icon",onClick:()=>h(r=>r+1),disabled:!0,children:e.jsx(E,{className:"h-4 w-4"})})]})]})]})]}),e.jsx(T,{open:!!s,onOpenChange:()=>x(null),children:e.jsx(L,{className:"max-h-[80vh] max-w-3xl overflow-y-auto",children:s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.subject}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Sent on ",w(s.sentDate,"MMMM d, yyyy")]})]}),e.jsxs(u,{children:[e.jsx(j,{className:"bg-background sticky top-0 z-10",children:e.jsx(p,{children:"Newsletter Content"})}),e.jsx(g,{children:e.jsx("div",{className:"rounded-md border bg-white p-6",children:e.jsxs("div",{className:"mx-auto max-w-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-1 text-xl font-semibold",children:s.subject}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"From: Yes Learning <admin@yeslearning.com>"})]}),e.jsxs("div",{className:"prose prose-sm max-w-none",children:[e.jsx("p",{children:"Dear Students,"}),e.jsxs("p",{children:[s.id==="nl-001"&&"Welcome to the Spring Semester! We're excited to have you back for another term of learning and growth.",s.id==="nl-002"&&"We're excited to announce several new courses that have been added to our catalog. These courses cover cutting-edge topics and are taught by industry experts.",s.id==="nl-003"&&"Please be advised that our platform will undergo scheduled maintenance this weekend. During this time, some features may be temporarily unavailable.",s.id==="nl-004"&&"Registration is now open for our upcoming workshops. These hands-on sessions provide practical skills that complement your course learning.",s.id==="nl-005"&&"Your February learning progress report is now available. We've compiled your achievements and areas for improvement to help guide your studies.",s.id==="nl-006"&&"Get a sneak peek at our upcoming summer courses! We've prepared an exciting lineup of courses to keep your learning journey going through the summer months."]}),e.jsxs("p",{children:["Log in to your account to"," ",s.id.includes("001")?"view your course schedule":s.id.includes("002")?"browse the new offerings":s.id.includes("003")?"plan accordingly":s.id.includes("004")?"secure your spot":s.id.includes("005")?"review your progress":"preview the courses","."]}),e.jsxs("p",{children:["Best regards,",e.jsx("br",{}),"LearnHub Team"]})]})]})})})]})]})})})]})]})};export{re as default};
