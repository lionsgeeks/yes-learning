import{r as b,K as $,j as e,L,$ as N}from"./app-DyttysuU.js";import{A as k,T as t,e as P}from"./app-layout-JXfhEOI_.js";import{C as x,a as u,b as h,c as D,d as p}from"./card-CjmNi4f3.js";import{P as M}from"./progress-D7sCUqp_.js";import{T as S,a as A,b as v,c as f}from"./tabs-DXMTH26h.js";import{a as B}from"./achievementTable-BYcUm6i5.js";import{c as E}from"./button-CsEfufLj.js";import{a as F,$ as O,b as R}from"./disabled-XNHw3poS.js";import{s as H,o as C,K as J,_ as V,L as z}from"./render-CVLjfbqq.js";import{p as K}from"./use-disposables-BJEtCvRN.js";import{C as U}from"./index-B6-K6RO8.js";import{B as X}from"./book-open-BrytWTyk.js";import{C as _}from"./clock-Bp4Sd1ZF.js";import"./index-CTxFrPBm.js";import"./index-Cu6fXj98.js";import"./index-CIAxyqie.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],I=E("Folder",q);function W(r){return H.isServer?null:r instanceof Node?r.ownerDocument:r!=null&&r.hasOwnProperty("current")&&r.current instanceof Node?r.current.ownerDocument:document}function Y(r){let a=r.width/2,n=r.height/2;return{top:r.clientY-n,right:r.clientX+a,bottom:r.clientY+n,left:r.clientX-a}}function Q(r,a){return!(!r||!a||r.right<a.left||r.left>a.right||r.bottom<a.top||r.top>a.bottom)}function Z({disabled:r=!1}={}){let a=b.useRef(null),[n,i]=b.useState(!1),l=K(),s=C(()=>{a.current=null,i(!1),l.dispose()}),d=C(c=>{if(l.dispose(),a.current===null){a.current=c.currentTarget,i(!0);{let o=W(c.currentTarget);l.addEventListener(o,"pointerup",s,!1),l.addEventListener(o,"pointermove",m=>{if(a.current){let j=Y(m);i(Q(j,a.current.getBoundingClientRect()))}},!1),l.addEventListener(o,"pointercancel",s,!1)}}});return{pressed:n,pressProps:r?{}:{onPointerDown:d,onPointerUp:s,onClick:s}}}let G="button";function ee(r,a){var n;let i=F(),{disabled:l=i||!1,autoFocus:s=!1,...d}=r,{isFocusVisible:c,focusProps:o}=O({autoFocus:s}),{isHovered:m,hoverProps:j}=R({isDisabled:l}),{pressed:g,pressProps:w}=Z({disabled:l}),y=V({ref:a,type:(n=d.type)!=null?n:"button",disabled:l||void 0,autoFocus:s},o,j,w),T=b.useMemo(()=>({disabled:l,hover:m,focus:c,active:g,autofocus:s}),[l,m,c,g,s]);return z()({ourProps:y,theirProps:d,slot:T,defaultTag:G,name:"Button"})}let se=J(ee);const re=[{title:"Dashboard",href:"/dashboard"}];function be(){const{courses:r,quizzes:a,userQuiz:n,libraries:i,auth:l}=$().props;return e.jsxs(k,{breadcrumbs:re,children:[e.jsx(L,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-6",dir:l.user.language=="ar"?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:[e.jsx(t,{en:"Welcome Back,",fr:"Bon retour,",ar:"مرحبًا بعودتك،"})," ",l.user.name]}),e.jsx("h1",{className:"pt-2 text-2xl",children:e.jsx(t,{en:"Continue learning",fr:"Continuer à apprendre",ar:"واصل التعلم"})})]}),e.jsx("div",{className:"grid auto-rows-min gap-4 md:grid-cols-2",children:r.filter(s=>s.completedCount/s.chapterCount*100>0&&s.completedCount/s.chapterCount*100<100).slice(0,2).map((s,d)=>e.jsxs("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative aspect-video overflow-hidden rounded-xl border",children:[e.jsx("img",{className:"h-[65%] w-full object-cover",src:"/storage/"+s.image,alt:""}),e.jsxs("div",{className:"flex-col gap-y-2 p-2",children:[e.jsx("h1",{className:"truncate",children:e.jsx(t,{...JSON.parse(s.name)})}),e.jsxs("p",{children:[e.jsx(t,{en:"Modules",fr:"Modules",ar:"الوحدات"}),": ",s.chapterCount]}),e.jsx(M,{value:s.completedCount/s.chapterCount*100,className:"mt-2 mb-2 h-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("p",{children:[(s.completedCount?s.completedCount/s.chapterCount*100:0).toFixed(2)," %"]}),e.jsx(t,{en:"Completed Modules",fr:"Modules terminés",ar:"الوحدات المكتملة"})]})]})]},d))}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border p-2 md:min-h-min",children:e.jsxs(S,{defaultValue:"courses",className:"mt-6",children:[e.jsxs(A,{className:"grid w-full grid-cols-3 md:w-auto",children:[e.jsx(v,{value:"courses",children:e.jsx(t,{en:"Courses",fr:"Cours",ar:"الدورات"})}),e.jsx(v,{value:"achievements",children:e.jsx(t,{en:"Achievements",fr:"Réalisations",ar:"الإنجازات"})}),e.jsx(v,{value:"library",children:e.jsx(t,{en:"Library",fr:"Bibliothèque",ar:"المكتبة"})})]}),e.jsx(f,{value:"courses",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:r.map(s=>e.jsxs(x,{className:"overflow-hidden pt-0",children:[e.jsx("div",{className:"relative h-40",children:e.jsx("img",{src:`storage/${s.image}`,alt:`Course ${s.image}`,width:400,height:160,className:"h-full w-full object-cover"})}),e.jsxs(u,{className:"pb-2",children:[e.jsx(h,{className:`text-lg ${l.user.language!=="ar"?"":"flex justify-end"}`,children:e.jsx(t,{en:"Course Title: "+JSON.parse(s.name).en,fr:"Titre du cours : "+JSON.parse(s.name).fr,ar:JSON.parse(s.name).ar})}),e.jsxs(D,{className:`flex ${l.user.language=="ar"?"justify-end gap-2":""}`,children:[e.jsx(I,{className:"mr-1 h-4 w-4"}),e.jsxs("p",{children:[s.chapterCount," ",e.jsx("span",{children:" "}),e.jsx(t,{en:"Modules",fr:"Modules",ar:"الوحدات"})]})]})]}),e.jsx(N,{href:"course/"+s.id,className:"block",children:e.jsx(p,{className:"cursor-pointer",children:e.jsx(se,{variant:"outline",className:"w-full cursor-pointer border py-2",children:e.jsx(t,{en:"Take the course",fr:"Suivre le cours",ar:"التحق بالدورة"})})})})]},s))})}),e.jsx(f,{value:"achievements",className:"mt-6",children:e.jsx(B,{quizzes:a,userQuiz:n})}),e.jsx(f,{value:"library",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:i.map(s=>e.jsxs(x,{children:[e.jsx(u,{className:"pb-2",children:e.jsxs(h,{className:"text-lg",children:["Module ",s.title[l.user.language]]})}),e.jsx(p,{children:e.jsxs(N,{href:`/ngo/library/${s.id}`,className:`flex items-center ${s>3?"text-muted-foreground cursor-not-allowed":"text-primary hover:underline"}`,children:["View Module ",e.jsx(U,{className:"ml-1 h-4 w-4"})]})})]},s))})}),e.jsx(f,{value:"stats",className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs(x,{children:[e.jsx(u,{children:e.jsx(h,{children:"Learning Progress"})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[e.jsx("span",{children:"Web Development Track"}),e.jsx("span",{children:"65%"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[e.jsx("span",{children:"UI/UX Design Track"}),e.jsx("span",{children:"40%"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[e.jsx("span",{children:"Data Science Track"}),e.jsx("span",{children:"25%"})]})})]})})]}),e.jsxs(x,{children:[e.jsx(u,{children:e.jsx(h,{children:"Learning Activity"})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"text-muted-foreground mr-2 h-5 w-5"}),e.jsx("span",{children:"Courses Completed"})]}),e.jsx("span",{className:"font-medium",children:"4"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"text-muted-foreground mr-2 h-5 w-5"}),e.jsx("span",{children:"Hours Spent Learning"})]}),e.jsx("span",{className:"font-medium",children:"32"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"text-muted-foreground mr-2 h-5 w-5"}),e.jsx("span",{children:"Achievements Earned"})]}),e.jsx("span",{className:"font-medium",children:"3"})]})]})})]})]})})]})})]})]})}export{be as default};
