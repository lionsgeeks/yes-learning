import{m as N,j as e,r as T}from"./app-DyttysuU.js";import{B as x}from"./button-CsEfufLj.js";import{D as y,a as A,b as $,c as F,e as E,d as J}from"./dialog-CerEaLom.js";import{I as C}from"./input-DEOcPHAI.js";import{L as p}from"./label-C1m2j7ms.js";import{S as W,a as U,b as L,c as I,d as _}from"./select-CjrNFAen.js";import{T as B,a as O,b as h,c as V}from"./tabs-DXMTH26h.js";import{T as H}from"./app-layout-JXfhEOI_.js";import{A as M,a as R,b as q,c as z,d as G,e as K,f as P}from"./alert-dialog-BY0_q2PF.js";import{L as Q}from"./loader-circle-P0jpTGZu.js";function te({open:c,onOpenChange:i,courses:d,workshop:a}){var u,j,f,D,v,g;const t=!!a,{data:r,setData:l,post:n,put:o,processing:b}=N({name:{en:a&&((u=JSON.parse(a.name))==null?void 0:u.en)||"",fr:a&&((j=JSON.parse(a.name))==null?void 0:j.en)||"",ar:a&&((f=JSON.parse(a.name))==null?void 0:f.en)||""},description:{en:a&&((D=JSON.parse(a.description))==null?void 0:D.en)||"",fr:a&&((v=JSON.parse(a.description))==null?void 0:v.fr)||"",ar:a&&((g=JSON.parse(a.description))==null?void 0:g.ar)||""},course_id:(a==null?void 0:a.course_id)||""}),S=s=>{s.preventDefault(),t?o(route("workshop.update",{id:a.id}),{data:r,onFinish:()=>{i(!1)}}):n(route("workshop.store"),{data:r,onFinish:()=>{i(!1)}})};return e.jsx(y,{open:c,onOpenChange:i,children:e.jsxs(A,{className:"sm:max-w-[425px]",children:[e.jsxs($,{children:[e.jsx(F,{children:t?"Edit Workshop":"Create New Workshop"}),e.jsx(E,{children:t?"Update the workshop details and save your changes.":"Enter a name and select a course to create a new workshop."})]}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs(B,{defaultValue:"en",children:[e.jsxs(O,{className:"grid w-full grid-cols-3",children:[e.jsx(h,{value:"en",children:"English"}),e.jsx(h,{value:"fr",children:"French"}),e.jsx(h,{value:"ar",children:"Arabic"})]}),["en","fr","ar"].map(s=>e.jsx(V,{value:s,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{htmlFor:`name-${s}`,children:["name (",s.toUpperCase(),")"]}),e.jsx(C,{id:`name-${s}`,placeholder:`name (${s.toUpperCase()})`,value:r.name[`${s}`],onChange:m=>l("name",{...r.name,[`${s}`]:m.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{htmlFor:`description-${s}`,children:["description (",s.toUpperCase(),")"]}),e.jsx(C,{id:`description-${s}`,placeholder:`description (${s.toUpperCase()})`,value:r.description[`${s}`],onChange:m=>l("description",{...r.description,[`${s}`]:m.target.value})})]})]})},s))]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"course",children:"Associated Course"}),e.jsx("div",{className:"mt-3",children:e.jsxs(W,{value:r.course_id,onValueChange:s=>l("course_id",s),children:[e.jsx(U,{id:"course",children:e.jsx(L,{placeholder:"Select a course"})}),e.jsx(I,{children:d.map(s=>e.jsx(_,{value:s.id,children:e.jsx(H,{en:s.name.en,fr:s.name.fr,ar:s.name.ar})},s.id))})]})})]})]}),e.jsxs(J,{children:[e.jsx(x,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(x,{onClick:S,disabled:b,children:t?"Update Workshop":"Create Workshop"})]})]})})}function le({open:c,onOpenChange:i,workshopTitle:d,workshopId:a}){const[t,r]=T.useState(!1),{delete:l,processing:n}=N(),o=()=>{r(!0),l(route("workshop.destroy",a),{onSuccess:()=>{i(!1),r(!1)},onError:()=>{r(!1)}})};return e.jsx(M,{open:c,onOpenChange:i,children:e.jsxs(R,{children:[e.jsxs(q,{children:[e.jsx(z,{children:"Are you absolutely sure?"}),e.jsxs(G,{children:["This action cannot be undone. This will permanently delete the ",JSON.parse(d).en," workshop and remove its data from our servers."]})]}),e.jsxs(K,{children:[e.jsx(P,{disabled:n,children:"Cancel"}),e.jsx(x,{variant:"destructive",onClick:o,disabled:n,className:"bg-red-500 text-red-50 hover:bg-red-600",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})}export{te as C,le as D};
