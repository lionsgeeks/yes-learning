import{K as y,r as d,m as E,j as e,L}from"./app-BO2Erc1k.js";import{C as _}from"./content-block-editor-CzGsYjU9.js";import{B as m}from"./button-Bo_LbEuX.js";import{C as S,a as T,b as B,c as M,d as z}from"./card-BcU8RAaX.js";import{A as F,D as A,a as R,b as V,c as $}from"./app-layout-DWGmey9C.js";import{I as g}from"./input-COSAMtAb.js";import{L as u}from"./label-Bqb7aRek.js";import{T as H}from"./textarea-BwgXVmor.js";import{C as K}from"./chevron-down-TiK4eFmA.js";import"./tabs-7DVaec6h.js";import"./index-DdbgeCqb.js";import"./index-DXSOa7z7.js";import"./index-Dl5nQ3KP.js";import"./dialog-I1RqCxJl.js";import"./select-DfsXUpRv.js";import"./index-BdQq_4o_.js";import"./index-B1FhypQQ.js";import"./check-BftTAXPi.js";import"./sortable.esm-CFWCLgN2.js";import"./index-b6-VoE6M.js";import"./plus-bcunI6PJ.js";import"./trash-2-C8cCXFAJ.js";import"./file-text-C86On0Et.js";import"./image-CLyO7MNW.js";import"./radio-group-B0hPLyc1.js";import"./video-B_k8as5w.js";import"./file-CouP-YEV.js";import"./external-link-B0pCf45U.js";import"./book-open-B6vd86xF.js";const Ce=()=>{var j,C;const{chapter:s,chapters:p,courses:c}=y().props,[x,v]=d.useState(""),[r,b]=d.useState("en"),{post:D,data:a,setData:i}=E({title:{en:s.title.en,ar:s.title.ar,fr:s.title.fr},description:{en:s.description.en,ar:s.description.ar,fr:s.description.fr},estimated_duration:{en:s.estimated_duration.en,ar:s.estimated_duration.ar,fr:s.estimated_duration.fr},content:s.content});console.log(s);const[f,N]=d.useState(""),h=f?p.filter(t=>t.course_id==f):p,w=t=>{const l=[...a.content[r]||[]];l.length===0?l.push({blocks:t}):l[0]={...l[0],blocks:t},i("content",{...a.content,[r]:l})};d.useEffect(()=>{const t=p.find(o=>o.id==x);t&&i("content",t.content)},[x]);const I=()=>{D(route("chapter.update",{_method:"put",chapter:s.id}))},k=[{title:s.title.en,href:`/admin/chapter/${s.id}/edit`}],n=t=>t[r];return e.jsxs(F,{breadcrumbs:k,children:[e.jsx(L,{title:`Chapter ${s.title.en}`}),e.jsxs("div",{className:"flex flex-col gap-3 p-3 lg:p-6",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Copy Contents from Other Chapter: "}),e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row lg:items-center",children:[e.jsxs("select",{name:"courseID",id:"courseID",className:"mt-2 w-[200px] rounded border p-2",onChange:t=>N(t.target.value),children:[e.jsx("option",{value:"",disabled:!0,defaultValue:"",children:"Select Course"}),e.jsx("option",{value:"",children:"All Courses"}),c==null?void 0:c.map((t,o)=>e.jsx("option",{value:t.id,className:"text-black",children:t.name.en},o))]}),e.jsxs("select",{name:"chapterID",id:"chapterID",className:"mt-2 w-[200px] rounded border p-2",onChange:t=>v(t.target.value),children:[e.jsx("option",{value:"",disabled:!0,defaultValue:"",children:"Select Chapter"}),h==null?void 0:h.map((t,o)=>e.jsx("option",{value:t.id,className:"text-black",children:t.title.en},o))]}),e.jsx(m,{type:"button",onClick:()=>{i("content",s.content)},children:"Reset Content"})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-2",children:[e.jsx(m,{variant:"ghost",size:"sm",asChild:!0,className:"mr-2"}),e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Edit ",s.title.en]}),e.jsxs(A,{children:[e.jsx(R,{asChild:!0,children:e.jsxs(m,{variant:"ghost",size:"sm",className:"bg-alpha h-8 w-fit text-white",children:[r==="en"?"English":r==="ar"?"العربية ":"Français"," ",e.jsx(K,{className:"ml-1 h-4 w-4"})]})}),e.jsx(V,{align:"end",children:["en","ar","fr"].map(t=>e.jsx($,{onClick:()=>b(t),children:e.jsx("span",{className:"mr-2",children:t})},t))})]})]}),e.jsxs(S,{dir:r==="ar"?"rtl":"ltr",className:"col-span-5",children:[e.jsxs(T,{children:[e.jsxs(B,{children:[" ",n({en:"Basic Information",ar:"المعلومات الأساسية",fr:"Informations de base"})," "]}),e.jsx(M,{children:n({en:"Enter the main details about your course",ar:"أدخل التفاصيل الرئيسية حول دورتك",fr:"Informations de base"})})]}),e.jsxs(z,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"title",children:n({en:"Course Title",ar:"عنوان الدورة",fr:"titre du cours"})}),e.jsx(g,{className:"mt-4",id:"title",placeholder:n({en:"Enter course title",ar:"	أدخل عنوان الدورة",fr:"Saisissez le titre du cours"}),value:a.title[r],onChange:t=>i("title",{...a.title,[r]:t.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u,{htmlFor:"duration",children:[n({en:"Estimated Duration (Minutes)",ar:"المدة التقديرية",fr:"Durée estimée"})," "]}),e.jsx(g,{className:"mt-4",id:"duration",type:"number",min:"1",placeholder:"e.g., 8",value:a.estimated_duration[r],onChange:t=>i("estimated_duration",{...a.estimated_duration,[r]:t.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{htmlFor:"description",children:[n({en:"Course Description",ar:"وصف الدورة",fr:"Description du cours"})," "]}),e.jsx(H,{id:"description",placeholder:n({en:"Describe what this course covers and its learning objectives",ar:"صِف ما تغطيه هذه الدورة وأهدافها التعليمية",fr:"Décrivez le contenu de ce cours et ses objectifs d’apprentissage"}),className:"mt-4 h-[35vh]",value:a.description[r],onChange:t=>i("description",{...a.description,[r]:t.target.value})})]})]})]}),e.jsx(_,{blocks:((C=(j=a.content[r])==null?void 0:j[0])==null?void 0:C.blocks)||[],onBlocksChange:w,courses:c,lang:r}),e.jsx(m,{onClick:I,children:"Save Chapter"})]})]})};export{Ce as default};
