import{K as u,r as j,m as v,j as e,L as b,a as g,S as f}from"./app-Dd7Q8jNu.js";import{B as t}from"./button-KjDgFd1P.js";import{T as w,a as N,b as d,c as l,d as y,e as i}from"./table-Cp9imxb6.js";import{A as C}from"./app-layout-BA-I2_TL.js";import{t as c}from"./index-jda3ngqe.js";import"./index-Clufub-a.js";import"./index-CJnyyRVE.js";import"./index-DiPPBe7i.js";import"./book-open-5AuiOLw1.js";const P=()=>{const{ngos:s}=u().props,[o,m]=j.useState(""),{post:p}=v();console.log(s);const x=r=>{g.post("http://192.168.100.136:8000/api/register/participant",{name:r.name,email:r.email,role:"ngo"}).then(a=>{console.log(a.status),a.status===200&&(p(`ngos/${r.id}/invite`),c(`Invite sent to ${r.name}`,{style:{backgroundColor:"var(--green-bg)",color:"var(--green-text)",border:"1px solid var(--green-border)"}}))}).catch(a=>{console.error(a),c("Error sending invite. Please try again.",{style:{backgroundColor:"var(--red-bg)",color:"var(--red-text)",border:"1px solid var(--red-border)"}})})},n=r=>{f.get("/admin/ngos",{page:r},{preserveScroll:!0,preserveState:!0})},h=s==null?void 0:s.data.filter(r=>r.name.toLowerCase().includes(o.toLowerCase()));return e.jsxs(C,{children:[e.jsx(b,{title:"Ngo's"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h1",{className:"mb-4 text-xl font-bold",children:"NGOs List"}),e.jsx("input",{type:"text",placeholder:"Search by name",value:o,onChange:r=>m(r.target.value),className:"w- rounded-md border border-gray-300 p-2"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(w,{className:"min-w-full",children:[e.jsx(N,{children:e.jsxs(d,{children:[e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Email"}),e.jsx(l,{children:"Action"})]})}),e.jsx(y,{children:h.map(r=>e.jsxs(d,{children:[e.jsx(i,{children:r.name}),e.jsx(i,{children:r.email}),e.jsx(i,{children:r.invitedToApp?e.jsxs(t,{className:"bg-green-500",disabled:!0,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 00-2 0v4.586l-2.293-2.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l4-4a1 1 0 00-1.414-1.414L11 9.586V5z",clipRule:"evenodd"})}),"Invited"]}):e.jsx(t,{onClick:()=>x(r),children:"Invite to App"})})]},r.id))})]})}),e.jsxs("div",{className:"mt-4 flex w-full items-center justify-between rounded-md bg-gray-100 p-4",children:[e.jsx(t,{disabled:!s.prev_page_url,onClick:()=>n(s.current_page-1),children:"Previous"}),e.jsxs("span",{children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(t,{disabled:!s.next_page_url,onClick:()=>n(s.current_page+1),children:"Next"})]})]})]})};export{P as default};
