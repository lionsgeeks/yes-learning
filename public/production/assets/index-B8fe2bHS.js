import{K as u,r as x,m as g,j as e,L as h,S as i,a as v}from"./app-BQJo8KWI.js";import{B as a}from"./button-CXZ9KNic.js";import{A as b,U as j}from"./app-layout-BYFZV0cl.js";import{t as n}from"./index-HfmPAlVu.js";import{E as f}from"./eye-DowYATHd.js";import"./index-DK41LuF8.js";import"./index-Dq-AqB3F.js";import"./index-BFpf-iuu.js";import"./book-open-BuM-h4bS.js";const y=[{title:"Users",href:"/users"}],U=()=>{const{ngos:s}=u().props,[o,d]=x.useState(""),{post:c}=g();console.log(s);const p=r=>{v.post("http://192.168.100.136:8000/api/register/participant",{name:r.name,email:r.email,role:"ngo"}).then(t=>{console.log(t.status),t.status===200&&(c(`ngos/${r.id}/invite`),n(`Invite sent to ${r.name}`,{style:{backgroundColor:"var(--green-bg)",color:"var(--green-text)",border:"1px solid var(--green-border)"}}))}).catch(t=>{console.error(t),n("Error sending invite. Please try again.",{style:{backgroundColor:"var(--red-bg)",color:"var(--red-text)",border:"1px solid var(--red-border)"}})})},l=r=>{i.get("/admin/ngos",{page:r},{preserveScroll:!0,preserveState:!0})},m=s==null?void 0:s.data.filter(r=>r.name.toLowerCase().includes(o.toLowerCase()));return e.jsxs(b,{breadcrumbs:y,children:[e.jsx(h,{title:"Users"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h1",{className:"mb-4 text-xl font-bold",children:"Users List"}),e.jsx("input",{type:"text",placeholder:"Search by name",value:o,onChange:r=>d(r.target.value),className:"w- rounded-md border border-gray-300 p-2"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:m.map((r,t)=>e.jsxs("div",{className:"p-2 relative flex flex-col items-center gap-y-5 shadow space-y-2 border-l-2 border-alpha rounded",children:[e.jsx("button",{className:"text-alpha/80 cursor-pointer absolute top-[3%] right-[3%]",onClick:()=>{i.visit("ngos/"+r.id)},children:e.jsx(f,{})}),e.jsx(j,{user:r}),r.invitedToApp?e.jsxs(a,{className:"bg-green-500",disabled:!0,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 00-2 0v4.586l-2.293-2.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l4-4a1 1 0 00-1.414-1.414L11 9.586V5z",clipRule:"evenodd"})}),"Invited"]}):e.jsx(a,{onClick:()=>p(r),children:"Invite to App"})]},t))}),e.jsxs("div",{className:"mt-4 flex w-full items-center justify-between rounded-md bg-gray-100 p-4",children:[e.jsx(a,{disabled:!s.prev_page_url,onClick:()=>l(s.current_page-1),children:"Previous"}),e.jsxs("span",{children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(a,{disabled:!s.next_page_url,onClick:()=>l(s.current_page+1),children:"Next"})]})]})]})};export{U as default};
